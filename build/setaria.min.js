/*! Setaria.js 25-11-2016 */
var _action=new function(){"use strict";this.doAction=function(a,b){var c=function(){try{_handler.doPreProcess&&_handler.doPreProcess(b),a.call(null,b)}catch(c){_log.error(c.stack?c.stack:c),_handler.doCatch&&_handler.doCatch(c,b)}finally{_handler.doFinally&&_handler.doFinally(b)}};c.apply(this)}},_config=new function(){"use strict";this.createCacheToken=function(){return Math.floor(1e14*Math.random())},this.getMobileOperatingSystem=function(){var a=navigator.userAgent||navigator.vendor||window.opera,b="unknown";return/windows phone/i.test(a)?b="Windows Phone":/android/i.test(a)?b="Android":/iPad|iPhone|iPod/.test(a)&&!window.MSStream&&(b="iOS"),b}},_cookie=new function(){"use strict";this.getItem=function(a){return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},this.setItem=function(a,b,c,d,e,f){if(!a||/^(?:expires|max\-age|path|domain|secure)$/i.test(a))return!1;var g="";if(c)switch(c.constructor){case Number:g=c===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+c;break;case String:g="; expires="+c;break;case Date:g="; expires="+c.toUTCString()}return document.cookie=encodeURIComponent(a)+"="+encodeURIComponent(b)+g+(e?"; domain="+e:"")+(d?"; path="+d:"")+(f?"; secure":""),!0},this.removeItem=function(a,b,c){return!(!a||!this.hasItem(a))&&(document.cookie=encodeURIComponent(a)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(c?"; domain="+c:"")+(b?"; path="+b:""),!0)},this.hasItem=function(a){return new RegExp("(?:^|;\\s*)"+encodeURIComponent(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)}},_globalParam=new function(){"use strict";function a(){var a=g.getItem(h)||"{}";return JSON.parse(a)}function b(a){g.setItem(h,JSON.stringify(a))}function c(c){if(_util.isEmpty(c))g.removeItem(h);else{var d=a();delete d[c],b(d)}}function d(c,d){var e=a();d=d?d:"",e[c]=d,b(e)}function e(b){var c=a();return c[b]}function f(a){c(a)}var g=window.localStorage,h="___global_param__";this.set=function(a,b){d(a,b)},this.get=function(a){return e(a)},this.clear=function(a){f(a)}},_handler=new function(){"use strict";function a(a){var b=!1,c=null;return a&&a.target&&("FORM"===a.target.nodeName?b=!0:"A"===a.target.nodeName&&a.target.href.lastIndexOf("#")===a.target.href.length-1?b=!0:$(a.target).parents("a").length>0&&(c=$(a.target).parents("a")[0],c.href.lastIndexOf("#")===c.href.length-1&&(b=!0))),b}this.doPreProcess=function(a){},this.doCatch=function(a,b){a=a.message?a:new SystemMessage("SESYSM002E"),_config.DEBUG_MODE===!0&&_ui.showMessage(a,"error")},this.doFinally=function(b){a(b)&&b.preventDefault()}},_html=new function(){"use strict";function a(a){return a=0===a.indexOf("#")?a:"#"+a,$(a)}function b(a,b,c){b.on(a,function(a){_action.doAction(c,a)})}function c(a,b){b.off(a)}function d(b){return a(b).is("form")}function e(a){return!_util.isEmpty(a.attr("data-widget-type"))&&window.Widget}function f(b){var c={},d=a(b),f=d.serializeArray(),h=g;return $.each(f,function(){var a=d.find('[name="'+this.name+'"]');e(a)&&(this.value=h(a.attr("id"),a.attr("data-widget-type")))}),$.each(f,function(){_util.isEmpty(c[this.name])?c[this.name]=this.value||"":(_util.isArray(c[this.name])||(c[this.name]=[c[this.name]]),c[this.name].push(this.value||""))}),c}function g(a,b){var c=Widget.prototype.createWidgetInstance(a,b);return c.getValue()}function h(a,b,c){var d=Widget.prototype.createWidgetInstance(a,b);d.setValue(c)}this.getValue=function(b){var c=null,h=a(b);return _util.isEmpty(b)||(c=e(h)?g(h.attr("id"),h.attr("data-widget-type")):d(b)?f(b):_util.escape(a(b).val())),c},this.getFormItemValueByName=function(a,b){var c=null,d=null;return d=b?$(b).find("[name='"+a+"']"):$("[name='"+a+"']"),e(d)?c=g(d.attr("id"),d.attr("data-widget-type")):d.is(":checkbox")?d.each(function(){this.prop("checked")===!0&&(c=c||[],c.push(this.val()))}):d.is(":radio")?d.each(function(){if(this.prop("checked")===!0)return void(c=this.val())}):d.val(),c},this.setValue=function(b,c){var f=a(b);if(d(b)&&_util.isObject(c))for(var g in c)this.setFormItemValueByName(g,c[g],f[0]);else e(f)?h(b,f.attr("data-widget-type"),c):f.val(c)},this.setFormItemValueByName=function(a,b,c){var d=null;d=c?$(c).find("[name='"+a+"']"):$("[name='"+a+"']"),e(d)?h(d.attr("id"),d.attr("data-widget-type"),b):d.is(":checkbox")||d.is(":radio")?d.each(function(){this.val()===b?this.prop("checked",!0):this.prop("checked",!1)}):d.val(b)},this.byId=function(b){var c=a(b);return c.length>0?c[0]:null},this._validate=function(a){var b=null;return a.validity.valueMissing?b="valueMissing":a.validity.patternMismatch&&(b="patternMismatch"),b},this.validate=function(b,c){var d=!0,e=this;return a(b).find(":invalid").each(function(){var a=this,b=e._validate(a),f={dom:a,validityState:b};if($(a).on("focus.validate",function(){_ui.removeValidationStyle(a)}),!_util.isEmpty(b)&&(_util.isFunction(c)&&c(f)?d=!0:(_ui._showErrorMessage(f),d=!1),d===!1))return!1}),d},this.show=function(b){a(b).show()},this.hide=function(b){a(b).hide()},this.enable=function(b){var c=a(b);c.is("form")&&(c=$("#"+b+" :input")),c.prop("disabled",!1)},this.disable=function(b){var c=a(b);c.is("form")&&(c=$("#"+b+" :input")),c.prop("disabled",!0)},this.removeDomNodeById=function(b){a(b).remove()},this.removeDomNode=function(b){var c=b.getAttribute("id");_util.isEmpty(c)?$(b).remove():a(c).remove()},this.bindEventById=function(c,d,e){b(d,a(c),e)},this.bindEventByName=function(a,c,d){b(c,$("[name='"+a+"']"),d)},this.unBindEventById=function(b,d){c(d,a(b))}},_http=new function(){"use strict";function a(a){if(!_util.isEmpty(a)){var c=_config.DEFAULT_TIMEOUT||2e4;a.timeout=_util.get(a,"timeout",c);var d=a.beforeSend;return _util.isFunction(d)||(a.beforeSend=function(a){_ui.toggleProcessing(!0)}),_util.isFunction(a.error)?a.error=a.error:a.error=b,a.complete=function(){_ui.toggleProcessing(!1)},$.ajax(a)}}function b(a,b,c){_ui.showMessage([new SystemMessage("SESYSM006E")],"error"),_log.error(_util.isEmpty(b)?b:c)}this.doAsync=function(b){return b.async=!0,a(b)},this.doSync=function(b){return b.async=!1,a(b)}},_log=new function(){"use strict";this.debug=function(a){_config.DEBUG_MODE===!0&&console.log(a)},this.error=function(a){var b=a.messageId;b=_util.isEmpty(b)?"":b+" ",console.error(b+a)}},_message=new function(){"use strict";function a(a,b){var g=null,h=b===!0?_config.SYSMESSAGE_FILE:_config.MESSAGE_FILE,i=null;return b===!0?(_util.isEmpty(f)&&(f=_util.getFileContent(h,"json")),i=f):(_util.isEmpty(e)&&(e=_util.getFileContent(h,"json")),i=e),_util.isObject(i)&&"error"===i.textStatus?g=b===!0?d:c:(g=i[a],_util.isEmpty(g)&&(g="没有找到指定的消息。 (id="+a+")")),g}function b(a,b){if(!_util.isEmpty(b))for(var c=0;c<b.length;c++)a=a.split("{"+c+"}").join(b[c]);return a}var c="无法取得业务消息文件。",d="无法取得系统消息文件。",e=null,f=null;this.getMessage=function(c,d){return b(a(c,!1),d)},this.getSystemMessage=function(c,d){return b(a(c,!0),d)}},_setaria=new function(){"use strict";function a(){var a=!1;return $("script").each(function(){var b=$(this).attr("data-setaria-config"),c=null;if(!_util.isEmpty(b))return c=_util.getFileContent(b,"json"),_util.isEmpty(c)||!_util.isEmpty(c.textStatus)&&"error"===c.textStatus?_ui.showMessage("无法读取客户端系统配置文件。","error"):($.each(c,function(a,b){_config[a]=b}),a=!0),!1}),a}function b(){var a=window.location.pathname,b=null;if("/"!==a){a=a.substring(1),b=a.split("/"),b.length>1&&b[b.length-1].indexOf(".")&&b.pop(),a="/";for(var c=0;c<b.length;c++)a+=b[c]+"/"}return a}this.start=function(c){var d=_util.isEmpty(_config.SHELL_ROOT)?b():_config.SHELL_ROOT;_config.SHELL_ROOT=d;var e=a();if(e){var f=_config.VIEWMODEL_CONFIG_FILE;window._viewModelController=new ViewModelController(f),this.bindHashChange(),_util.isFunction(c)&&c(),this.dispatcher(window._viewModelController)}},this.bindHashChange=function(){$(window).on("hashchange",this.doHashChange)},this.doHashChange=function(){};var c=function(a){this.defaultDispatcher(a)};this.dispatcher=c,this.defaultDispatcher=function(a){var b=window.location.hash,c=null,d=null,e=[];_util.isEmpty(b)||"#"===b?_ui.forwardTo(_config.WELCOME_PAGE):(c=a.getViewPathFromHash(b),_util.isEmpty(c)?_ui.forwardTo(_config.WELCOME_PAGE):(e[0]=c,d=b.substring(b.indexOf(c)+c.length),e[1]=d,_ui.forwardTo.apply(_ui,e)))}},_ui=new function(){"use strict";var a="<br>";this.showDialog=function(a){alert("Dialog -> title :: "+a.title+", message :: "+a.message)},this.toggleProcessing=function(a){var b=$("#"+_config.LOADING_ID);a?b.show():b.hide()},this.showMessage=function(b,c,d){var e=[],f="",g=null;_util.isEmpty(b)||(_util.isArray(b)?$.each(b,function(b,c){e.push(c.message?c.message:c),e.push(a)}):_util.isObject(b)?(f=b.messageId||"",e.push(_util.isObject(b)?b.message:b)):e.push(b+""),_util.isFunction(d)&&(g=function(){d()}),this.showDialog({title:"error"!==c?"消息":"错误",type:c,message:e.join("<br/>"),doneText:"关闭",doneCallback:g,doneOnly:!0}))},this.showModalDialog=function(a,b,c,d,e){a=_util.isEmpty(a)?"确认窗口":a,doneOnly=_util.isEmpty(e)&&!_util.isEmpty(d),e=e||"确认",d=d||"取消";var f=function(){c(!0)},g=function(){c(!1)};this.showDialog({title:a,message:b,doneText:e,cancelText:d,doneCallback:f,cancelCallback:g,doneOnly:doneOnly})},this.forwardTo=function(a){_viewModelController.forwardTo.apply(_viewModelController,arguments)},this.backTo=function(a){_viewModelController.backTo.apply(_viewModelController,arguments)},this.updateHTML=function(a,b){_util.isEmpty(a)||$("#"+_config.MAIN_AREA_ID).load(_util.getResourceFilePath(a),function(){b()})},this.updateDocumentTitle=function(a){a=_util.isEmpty(a)?"":a,_util.isEmpty(a)||(document.title=a)},this._showErrorMessage=function(a){if(!_util.isEmpty(a)){var b=a.dom,c=a.validityState,d=b.getAttribute(c+"Tips")||b.getAttribute("tips")||_message.getMessage(c,[b.getAttribute("data-elem-name")]);a.errorMessage=d,_ui.addValidationStyle(b),_ui.showErrorMessage(a)}},this.showErrorMessage=function(a){alert(a.errorMessage)}},_url=new function(){"use strict";var a="/",b=[],c=0;this.getCurrentIndex=function(){return c},this.forward=function(a){for(c++;b.length>0&&b[0].index>=c;)_log.debug(b[0].url),b.shift();_log.debug("add "+a+" to history!"),b.unshift({index:c,url:a}),_log.debug(b.length)},this.back=function(a){var d=0,e=0;if(!_util.isEmpty(b)){for(e=0;e<b.length;e++)if(b[e].index<=c&&(d++,b[e].url===a)){c=b[e].index-1;break}d=-d}return d},this.getCurrentUrl=function(){return window.location.href},this.getHashParams=function(){var b=null,c=window.location.hash;return _util.isEmpty(c)||0!==c.indexOf("#")||(c=c.substring(1),b=c.split(a)),b},this.setUrlParameter=function(a,b){var c=a,d="",e="",f=0;return _util.isEmpty(a)||(f=a.indexOf("#"),f!==-1&&(e=a.substring(f),c=a.substring(0,f)),d=c.indexOf("?")!==-1?"&":"?",c+=d+$.param(b),_util.isEmpty(e)||(c+=e)),c},this.getUrlParameter=function(a){for(var b={},c=window.location.search.substring(1),d=c.split("&"),e=null,f=0;f<d.length;f++)if(e=d[f].split("="),_util.isEmpty(a))b[e[0]]=e[1];else if(e[0]===a){b=e[1];break}return b},this.redirectTo=function(a,b){b?window.location.replace(a):window.location.href=a},this.redirectToErrorPage=function(a){this.redirectTo(_config.HTML_ROOT_DIR+_config.HTML_ERROR_DIR+a+".html",!0)},this.clearUrlParameter=function(){var a=window.location.search,b=window.location.href;b=b.replace(a,""),window.history.replaceState(null,null,b)},this.clearHash=function(){var a=window.location.href;a.indexOf("#")!==-1&&(a=a.substring(0,a.indexOf("#"))),window.history.replaceState(null,null,a)}},_util=new function(){"use strict";function a(a){return A[a]}function b(a){return!!a&&"object"==typeof a}function c(a){return"number"==typeof a&&a>-1&&a%1===0&&a<=x}function d(a){return _util.isObject(a)?a:Object(a)}function e(a,b,c){if(null!==a&&void 0!==a){void 0!==c&&c in d(a)&&(b=[c]);for(var e=0,f=b.length;null!==a&&e<f;)a=a[b[e++]];return e&&e==f?a:void 0}}function f(a){if(_util.isArray(a))return a;var b=[];return g(a).replace(y,function(a,c,d,e){b.push(d?e.replace(z,"$1"):c||a)}),b}function g(a){return null===a?"":a+""}function h(a){return function(b){return null===b?void 0:b[a]}}function i(a){return null!==a&&c(G(a))}function j(a,b,c){var d=b.indexOf(c);if(d<0)return null;var e=a.substring(d,d+c.length);if(isNaN(e))throw new SystemMessage(o,[a,b]);return e-0}function k(a,b,c,d){var e=b.indexOf(c);return e<0?a:a.length<e+c.length?a:a.substring(0,e)+d+a.substring(e+c.length)}function l(a,b){if(!a||!b)return!1;var c=b;c=c.replace(p,"####"),c=c.replace(r,"##"),c=c.replace(s,"##"),c=c.replace(t,"##"),c=c.replace(u,"##"),c=c.replace(v,"##"),c=c.replace(w,"###"),c=c.replace(q,"##");var d=a;return d=k(d,b,p,"####"),d=k(d,b,r,"##"),d=k(d,b,s,"##"),d=k(d,b,t,"##"),d=k(d,b,u,"##"),d=k(d,b,v,"##"),d=k(d,b,w,"###"),d=k(d,b,q,"##"),c==d}function m(a,b,c){switch(b){case 0:case 2:case 4:case 6:case 7:case 9:case 11:return c>0&&c<=31;case 3:case 5:case 8:case 10:return c>0&&c<=30;case 1:return a%100===0?c>0&&c<=28:a%4===0?c>0&&c<=29:c>0&&c<=28}}function n(a,b,c,d){var e="",f=null,g=null;return _util.isEmpty(a)||(c=c>a.length?a.length:c,d=_util.isEmpty(d)?"*":d,f=new Array(c+1).join("*"),g=1===b?c:a.length-c,e=1===b?f+a.substr(g):a.substr(0,g)+f),e}var o="SESYSM004E",p="yyyy",q="yy",r="MM",s="dd",t="HH",u="mm",v="ss",w="SSS",x=9007199254740991,y=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,z=/\\(\\)?/g,A={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},B=/&(?:amp|lt|gt|quot|#39|#96);/g,C=/[&<>"'`]/g,D=(RegExp(B.source),RegExp(C.source)),E=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable,G=h("length");this.isEmpty=function(a){return null===a||void 0===a||(i(a)&&(this.isArray(a)||this.isString(a)||this.isArguments(a)||b(a)&&this.isFunction(a.splice))?!a.length:!this.keys(a).length)},this.isString=function(a){return"string"==typeof a||b(a)&&"[object String]"==Object.prototype.toString.call(a)},this.isNumber=function(a){return"number"==typeof a||b(a)&&"[object Number]"==Object.prototype.toString.call(a)},this.isBoolean=function(a){return a===!0||a===!1||b(a)&&"[object Boolean]"==Object.prototype.toString.call(a)},this.isArray=function(a){return b(a)&&c(a.length)&&"[object Array]"==Object.prototype.toString.call(a)},this.isObject=function(a){var b=typeof a;return!!a&&("object"==b||"function"==b)},this.isFunction=function(a){return this.isObject(a)&&"[object Function]"==Object.prototype.toString.call(a)},this.isArguments=function(a){return b(a)&&i(a)&&E.call(a,"callee")&&!F.call(a,"callee")},this.has=function(a,b){return E.call(a,b)},this.get=function(a,b,c){var d=null===a?void 0:e(a,f(b),b+"");return void 0===d?c:d},this.keys=function(a){return this.isObject(a)?Object.keys(a):[]},this.parseDate=function(a,b){if(!l(a,b))throw new SystemMessage(o,[a,b]);var c=new Date;c.setTime(0);var d=j(a,b,p),e=j(a,b,q),f=j(a,b,r),g=j(a,b,s),h=j(a,b,t),i=j(a,b,u),k=j(a,b,v),n=j(a,b,w);if(d?c.setFullYear(d):e&&c.setYear(e),f){if(f>12||f<1)throw new SystemMessage(o,[a,b]);c.setMonth((f+11)%12)}if(g){if(!m(c.getFullYear(),c.getMonth(),g))throw new SystemMessage(o,[a,b]);c.setDate(g)}if(h){if(h>23||h<0)throw new SystemMessage(o,[a,b]);c.setHours(h)}if(i){if(i>59||g<0)throw new SystemMessage(o,[a,b]);c.setMinutes(i)}if(k){if(k>59||k<0)throw new SystemMessage(o,[a,b]);c.setSeconds(k)}if(n){if(n<0)throw new SystemMessage(o,[a,b]);c.setMilliseconds(n)}return c},this.dateFormat=function(a,b){var c={"M+":a.getMonth()+1,"d+":a.getDate(),"h+":a.getHours()%12===0?12:a.getHours()%12,"H+":a.getHours(),"m+":a.getMinutes(),"s+":a.getSeconds(),"q+":Math.floor((a.getMonth()+3)/3),S:a.getMilliseconds()},d={0:"日",1:"一",2:"二",3:"三",4:"四",5:"五",6:"六"};/(y+)/.test(b)&&(b=b.replace(RegExp.$1,(a.getFullYear()+"").substr(4-RegExp.$1.length))),/(E+)/.test(b)&&(b=b.replace(RegExp.$1,(RegExp.$1.length>1?RegExp.$1.length>2?"星期":"周":"")+d[a.getDay()]));for(var e in c)new RegExp("("+e+")").test(b)&&(b=b.replace(RegExp.$1,1==RegExp.$1.length?c[e]:("00"+c[e]).substr((""+c[e]).length)));return b},this.escape=function(b){return b=g(b),b&&D.test(b)?b.replace(C,a):b},this.maskStringLeft=function(a,b,c){return n(a,1,b,c)},this.maskStringRight=function(a,b,c){return n(a,0,b,c)},this.getResourceFilePath=function(a){return _config.SHELL_ROOT+a+"?_="+_config.createCacheToken()},this.getFileContent=function(a,b){var c=null,d=new HTTPContext;return d.url=this.getResourceFilePath(a),d.method="GET",d.dataType=b?b:"text",d.error=function(a,b,d){c={jqXHR:a,textStatus:b,errorThrown:d}},d.success=function(a){c=a},_http.doSync(d),c}},HTTPContext=function(a,b,c,d,e,f,g,h,i){this.url=a,this.method=b,this.dataType=c,this.contentType=d,this.data=e,this.success=f,this.error=g,this.complete=h,this.beforeSend=i},Message=function(a,b){this.messageId=a,this.message=_message.getMessage(a,b),this.toString=function(){return this.message}},SystemMessage=function(a,b){this.messageId=a,this.message=_message.getSystemMessage(a,b),this.toString=function(){return this.message}},ValidationMessage=function(a,b,c){this.elementId=a,this.messageId=b,this.message=_message.getMessage(b,c),this.toString=function(){return this.message}},ViewModelController=function(a,b){function c(){d=_util.getFileContent(a,"json")}var d=null,e={};this._currentViewModelInfo=null,c(),this.initialHandler=function(a){a.call(null)},this.unInitialHandler=function(a){a.call(null)},this._execViewModelInitial=function(a,b,c,d){_log.debug("ViewModel [ "+a.viewModelClass+" ] init."),_util.isFunction(this.initialHandler)&&this.initialHandler(function(){_action.doAction(b.init.bind(b))},a,c,d)},this._execViewModelUnInitial=function(a,b,c){_log.debug("ViewModel [ "+a.viewModelClass+" ] unInit."),_util.isFunction(this.unInitialHandler)&&this.unInitialHandler(function(){_util.isFunction(b.unInit)&&_action.doAction(b.unInit.bind(b))},a,c)},this.loadScript=function(a,b,c){var d=_config.SRC_ROOT_DIR+b+".js",e=b.substring(b.lastIndexOf("/")+1);if(_util.isFunction(window[e]))c.call(null,window[e]);else{var f=document.createElement("script");f.type="text/javascript",f.charset="utf-8",f.src=d+"?_="+_config.createCacheToken(),f.addEventListener("load",function(){c.call(null,window[e])}.bind(this),!1),f.async=!0,document.querySelector("head").appendChild(f)}},this.getViewConfigByPath=function(a){var b=d[a];return _util.isEmpty(b)?b={template:a+".html"}:_util.isEmpty(b.template)&&(b.template=a+".html"),b},this.getViewPathFromHash=function(a){var b="";if(!_util.isEmpty(a)){0===a.indexOf("#")&&(a=a.substring(1));for(var c in d)0===a.indexOf(c)&&c.length>b.length&&(b=c)}return b},this.forwardTo=function(a){var b=this.getViewConfigByPath(a),c=arguments,d=this;this._execViewModelUnInitial(_util.get(this._currentViewModelInfo,"config",{}),_util.get(this._currentViewModelInfo,"instance",""),_util.get(this._currentViewModelInfo,"path","")),_ui.updateHTML(this.getTemplatePath(b.template),function(){_ui.updateDocumentTitle(b.title),_util.isEmpty(b.viewModelClass)||this.loadScript(b,b.viewModelClass,function(f){if(_util.isFunction(f)){var g=f.bind.apply(f,c),h=new g;h.cache={},e[a]=h,d._currentViewModelInfo={instance:h,config:b,path:a},d._execViewModelInitial(b,h,a,c)}})}.bind(this))},this.backTo=function(a){var b=this.getViewConfigByPath(a),c=arguments,d=this;this._execViewModelUnInitial(_util.get(this._currentViewModelInfo,"config",{}),_util.get(this._currentViewModelInfo,"instance",""),_util.get(this._currentViewModelInfo,"path","")),_util.isEmpty(b)?_ui.showMessage(new SystemMessage("SESYSM001E",[a]),"error"):_ui.updateHTML(this.getTemplatePath(b.template),function(){var f=e[a];if(_ui.updateDocumentTitle(b.title),f){var g=f.cache;_util.isEmpty(b.viewModelClass)||this.loadScript(b,b.viewModelClass,function(f){if(_util.isFunction(f)){var h=f.bind.apply(f,c),i=new h;i.cache=g,e[a]=i,d._currentViewModelInfo={instance:i,config:b,path:a},d._execViewModelInitial(b,i,a,c)}})}}.bind(this))},this.getTemplatePath=function(a){var b="";return _util.isEmpty(a)||(b=_config.HTML_ROOT_DIR+a),b},this.getViewModelConfig=function(){return d},this.getCurrentViewModelInfo=function(){return this._currentViewModelInfo}};